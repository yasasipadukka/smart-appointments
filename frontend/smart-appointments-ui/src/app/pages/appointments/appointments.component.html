<app-navbar></app-navbar>

<div class="appointments">
  <h2>Book an Appointment</h2>

  <form (ngSubmit)="addAppointment()" #form="ngForm" class="appointment-form">
    <div class="form-group">
      <label>Doctor Name</label>
      <input type="text" [(ngModel)]="newAppointment.doctorName" name="doctorName" required />
    </div>

    <div class="form-group">
      <label>Date</label>
      <input type="date" [(ngModel)]="newAppointment.date" name="date" required />
    </div>

    <div class="form-group">
      <label>Time</label>
      <input type="time" [(ngModel)]="newAppointment.time" name="time" required />
    </div>

    <button type="submit">Book Appointment</button>

    <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
    <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
  </form>

  <hr />

  <h3>Your Appointments</h3>
  <ul>
    <li *ngFor="let a of appointments">
      <div>
        <strong>{{ a.doctorName }}</strong>
        <span>{{ a.date }} @ {{ a.time }}</span>
        <small>Status: {{ a.status }}</small>
      </div>
      <button (click)="deleteAppointment(a.id!)">Cancel</button>
    </li>
  </ul>
</div>
